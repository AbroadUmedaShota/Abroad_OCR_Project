# 03_TESTING_GUIDELINES.md

## 1. Testing Strategy

This project employs a multi-layered testing strategy to ensure code quality, functional correctness, and high performance.

- **Unit Tests:** Verify the functionality of individual components (functions, classes) in isolation. They are located in the `tests/` directory and use Python's `unittest` framework.
- **Integration Tests:** (Future) Will test the interaction between different components of the application.
- **Accuracy Evaluation:** A specific set of scripts and procedures to measure and track the performance of the OCR engine, focusing on Character Error Rate (CER) and bounding box Intersection over Union (IoU).

## 2. How to Run Unit Tests

To run all unit tests, execute the following command from the project root directory:

```bash
python -m unittest discover tests
```

## 3. Accuracy Evaluation Workflow

Evaluating the OCR accuracy is crucial for measuring the impact of model fine-tuning and other improvements.

### 3.1. Preparing Ground Truth Data

Ground truth data is essential for calculating accuracy metrics. It consists of:

1.  **Test Images:** A representative set of images that the OCR will process.
2.  **Ground Truth Text:** A plain text file (`.txt`) containing the exact text content corresponding to the test images.
3.  **Ground Truth Bounding Boxes:** (Optional, for IoU) A file (e.g., JSON or CSV) detailing the precise coordinates of each text block in the test images.

### 3.2. Running the Evaluation Script

The `scripts/evaluate_accuracy.py` script is used to perform the evaluation.

**Command:**

```bash
python scripts/evaluate_accuracy.py [path_to_ocr_results.csv] [path_to_ground_truth.txt]
```

- `[path_to_ocr_results.csv]`: The CSV file generated by `src/ocr_poc.py`.
- `[path_to_ground_truth.txt]`: The ground truth text file.

### 3.3. Interpreting the Results

The script will output:

- **Character Error Rate (CER):** The lower, the better. A CER of 0.0 means a perfect match.
- **Intersection over Union (IoU):** (If applicable) A measure of how well the detected bounding boxes overlap with the ground truth boxes. A value of 1.0 indicates a perfect overlap.
